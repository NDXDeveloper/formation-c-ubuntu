üîù Retour au [Sommaire](/SOMMAIRE.md)

# 30.1.9 Publication d'artifacts

## Introduction

Les **artifacts** (artefacts en fran√ßais) sont des fichiers g√©n√©r√©s par votre pipeline CI/CD que vous souhaitez **sauvegarder et partager**. Il peut s'agir de binaires compil√©s, de rapports de tests, de logs, de documentation, ou de tout autre fichier produit pendant le workflow.

GitHub Actions permet de publier ces artifacts directement depuis votre workflow, de les t√©l√©charger via l'interface web, et de les r√©utiliser dans d'autres jobs ou workflows. C'est essentiel pour **distribuer vos builds**, **archiver les rapports** et **d√©boguer les probl√®mes** en CI.

---

## Pourquoi publier des artifacts ?

### Les cas d'usage

1. **Distribution de binaires** : Partager les ex√©cutables compil√©s avec les utilisateurs
2. **Rapports de tests** : Archiver les r√©sultats de tests, couverture, analyse statique
3. **Documentation** : Publier la documentation HTML g√©n√©r√©e (Doxygen, etc.)
4. **Debugging** : Sauvegarder les logs et core dumps pour investigation
5. **Releases** : Cr√©er des packages pour les versions officielles
6. **Artefacts interm√©diaires** : Partager des fichiers entre jobs d'un m√™me workflow

### Avantages

- ‚úÖ **Accessibles facilement** : Via l'interface GitHub Actions
- ‚úÖ **Versionn√©s automatiquement** : Associ√©s au commit/PR
- ‚úÖ **Partage d'√©quipe** : Tout le monde peut les t√©l√©charger
- ‚úÖ **Temporaires ou permanents** : Dur√©e de r√©tention configurable
- ‚úÖ **Organisation** : Group√©s par workflow run

---

## L'action upload-artifact

GitHub Actions fournit l'action officielle `actions/upload-artifact` pour publier des artifacts.

### Syntaxe de base

```yaml
- name: Uploader un artifact
  uses: actions/upload-artifact@v4
  with:
    name: mon-artifact
    path: chemin/vers/fichier
```

**Param√®tres principaux :**

- `name:` Nom de l'artifact (appara√Æt dans l'interface)
- `path:` Fichier(s) ou r√©pertoire(s) √† uploader

---

## Exemple simple : Publier un binaire

Voici un workflow qui compile un programme et publie l'ex√©cutable :

```yaml
name: Build et Publication

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout du code
      uses: actions/checkout@v4

    - name: Compiler le projet
      run: |
        gcc -o mon_app src/main.c

    - name: Uploader le binaire
      uses: actions/upload-artifact@v4
      with:
        name: mon-app-linux
        path: mon_app
```

**R√©sultat :** Le fichier `mon_app` sera t√©l√©chargeable depuis l'interface GitHub Actions.

---

## T√©l√©charger un artifact

### Via l'interface GitHub

1. Allez dans l'onglet **Actions** de votre d√©p√¥t
2. Cliquez sur le workflow run concern√©
3. Scrollez jusqu'√† la section **Artifacts**
4. Cliquez sur le nom de l'artifact pour le t√©l√©charger (ZIP)

### Via l'action download-artifact (entre jobs)

Pour r√©utiliser un artifact dans un autre job du m√™me workflow :

```yaml
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Compiler
      run: gcc -o app main.c

    - name: Uploader
      uses: actions/upload-artifact@v4
      with:
        name: app-binary
        path: app

  test:
    runs-on: ubuntu-latest
    needs: build  # Attend que build soit termin√©

    steps:
    - name: T√©l√©charger le binaire
      uses: actions/download-artifact@v4
      with:
        name: app-binary

    - name: Tester le binaire
      run: |
        chmod +x app
        ./app --test
```

---

## Publier plusieurs fichiers

### Avec des wildcards (patterns)

```yaml
- name: Uploader tous les binaires
  uses: actions/upload-artifact@v4
  with:
    name: all-binaries
    path: |
      build/*.exe
      build/*.so
      build/*.a
```

### Avec un r√©pertoire complet

```yaml
- name: Uploader le dossier build
  uses: actions/upload-artifact@v4
  with:
    name: build-output
    path: build/
```

**Note :** La structure de r√©pertoires est pr√©serv√©e dans l'artifact.

### Avec plusieurs chemins

```yaml
- name: Uploader artifacts multiples
  uses: actions/upload-artifact@v4
  with:
    name: project-artifacts
    path: |
      build/bin/
      build/lib/
      docs/html/
      logs/*.log
```

---

## Types d'artifacts courants en C

### 1. Binaires compil√©s

```yaml
- name: Uploader l'ex√©cutable
  uses: actions/upload-artifact@v4
  with:
    name: app-${{ matrix.os }}-${{ matrix.arch }}
    path: build/bin/app
```

**Astuce :** Utilisez des noms descriptifs incluant l'OS et l'architecture.

### 2. Biblioth√®ques

```yaml
- name: Uploader les biblioth√®ques
  uses: actions/upload-artifact@v4
  with:
    name: libraries
    path: |
      build/lib/*.so
      build/lib/*.a
      include/*.h
```

### 3. Rapports de tests

```yaml
- name: Uploader les rapports de tests
  uses: actions/upload-artifact@v4
  with:
    name: test-reports
    path: |
      build/test-results/
      build/Testing/Temporary/
```

### 4. Rapports de couverture

```yaml
- name: Uploader la couverture HTML
  uses: actions/upload-artifact@v4
  with:
    name: coverage-report
    path: build/coverage_html/
```

### 5. Documentation

```yaml
- name: Uploader la documentation Doxygen
  uses: actions/upload-artifact@v4
  with:
    name: documentation
    path: docs/html/
```

### 6. Logs de debug

```yaml
- name: Uploader les logs
  if: failure()  # Seulement si le workflow √©choue
  uses: actions/upload-artifact@v4
  with:
    name: debug-logs
    path: |
      build/**/*.log
      core.*
      valgrind-*.txt
```

---

## Dur√©e de r√©tention

Par d√©faut, les artifacts sont conserv√©s **90 jours**. Vous pouvez modifier cette dur√©e :

```yaml
- name: Uploader avec r√©tention courte
  uses: actions/upload-artifact@v4
  with:
    name: temp-artifact
    path: temp/
    retention-days: 7  # Supprim√© apr√®s 7 jours
```

**Valeurs possibles :**
- Minimum : 1 jour
- Maximum : 90 jours (comptes gratuits) ou 400 jours (entreprise)

**Recommandations :**

| Type d'artifact | R√©tention recommand√©e |
|-----------------|----------------------|
| Binaires de release | 90 jours |
| Rapports de tests | 30 jours |
| Logs de debug | 7 jours |
| Documentation | 90 jours |
| Artifacts temporaires | 1 jour |

---

## Workflow complet : Multi-plateforme

Publier des binaires pour Linux, macOS et Windows :

```yaml
name: Build Multi-Plateformes

on:
  push:
    branches: [ main ]
  release:
    types: [ created ]

jobs:
  build:
    name: Build - ${{ matrix.os }}
    runs-on: ${{ matrix.os }}

    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
        include:
          - os: ubuntu-latest
            artifact_name: mon-app-linux
            binary_name: mon_app

          - os: macos-latest
            artifact_name: mon-app-macos
            binary_name: mon_app

          - os: windows-latest
            artifact_name: mon-app-windows
            binary_name: mon_app.exe

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Configurer CMake
      run: cmake -B build -DCMAKE_BUILD_TYPE=Release

    - name: Compiler
      run: cmake --build build --config Release

    - name: Uploader le binaire
      uses: actions/upload-artifact@v4
      with:
        name: ${{ matrix.artifact_name }}
        path: build/${{ matrix.binary_name }}
        retention-days: 90
```

**R√©sultat :** 3 artifacts, un par plateforme, disponibles au t√©l√©chargement.

---

## Compression et optimisation

### Inclure/Exclure des fichiers

Par d√©faut, tous les fichiers du chemin sont inclus. Pour exclure certains fichiers :

```yaml
- name: Uploader build sans fichiers temporaires
  uses: actions/upload-artifact@v4
  with:
    name: build-clean
    path: |
      build/
      !build/**/*.o
      !build/**/*.tmp
      !build/CMakeFiles/
```

**Patterns d'exclusion :**
- `!pattern` : Exclut les fichiers matchant le pattern
- Utilise la syntaxe glob standard

### Compression automatique

GitHub Actions compresse automatiquement les artifacts en ZIP. Vous n'avez rien √† faire.

**Taille maximale par artifact :**
- Comptes gratuits : Illimit√©e (mais quotas de stockage)
- Stockage total : 500 MB (gratuit), 2 GB (Pro), 50 GB (Enterprise)

---

## Artifacts conditionnels

### Upload seulement en cas de succ√®s

```yaml
- name: Uploader si succ√®s
  if: success()
  uses: actions/upload-artifact@v4
  with:
    name: release-binary
    path: build/app
```

### Upload seulement en cas d'√©chec

```yaml
- name: Uploader les logs de debug si √©chec
  if: failure()
  uses: actions/upload-artifact@v4
  with:
    name: failure-logs
    path: |
      build/**/*.log
      core.*
```

### Upload toujours (succ√®s ou √©chec)

```yaml
- name: Uploader les rapports
  if: always()
  uses: actions/upload-artifact@v4
  with:
    name: test-reports
    path: build/test-results/
```

**Conditions disponibles :**
- `if: success()` : Job r√©ussi
- `if: failure()` : Job √©chou√©
- `if: always()` : Toujours (succ√®s ou √©chec)
- `if: cancelled()` : Job annul√©

---

## Artifacts par √©v√©nement

### Artifacts diff√©rents selon l'√©v√©nement

```yaml
- name: Uploader binaire de d√©veloppement
  if: github.event_name == 'push'
  uses: actions/upload-artifact@v4
  with:
    name: dev-build
    path: build/app
    retention-days: 7

- name: Uploader binaire de release
  if: github.event_name == 'release'
  uses: actions/upload-artifact@v4
  with:
    name: release-build-${{ github.event.release.tag_name }}
    path: build/app
    retention-days: 90
```

### Artifacts pour les Pull Requests

```yaml
- name: Uploader pour review
  if: github.event_name == 'pull_request'
  uses: actions/upload-artifact@v4
  with:
    name: pr-${{ github.event.pull_request.number }}-build
    path: build/
```

---

## Organisation des artifacts

### Nomenclature recommand√©e

**Binaires :**
```
app-linux-x64-v1.2.3
app-macos-arm64-v1.2.3
app-windows-x64-v1.2.3
```

**Rapports :**
```
test-reports-run-12345
coverage-report-pr-42
valgrind-report-commit-abc123
```

**Structure avec m√©tadonn√©es :**
```yaml
- name: Uploader avec m√©tadonn√©es
  uses: actions/upload-artifact@v4
  with:
    name: app-${{ runner.os }}-${{ github.sha }}
    path: build/app
```

**Variables utiles :**
- `${{ runner.os }}` : Linux, macOS, Windows
- `${{ github.sha }}` : Hash du commit
- `${{ github.ref_name }}` : Nom de la branche
- `${{ github.run_number }}` : Num√©ro de run

---

## Workflow : Build avec tous les artifacts

Exemple complet avec plusieurs types d'artifacts :

```yaml
name: Build Complet avec Artifacts

on:
  push:
    branches: [ main, develop ]
  pull_request:

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Installer les d√©pendances
      run: |
        sudo apt-get update
        sudo apt-get install -y gcc cmake lcov valgrind doxygen

    - name: Configurer
      run: |
        cmake -B build \
          -DCMAKE_BUILD_TYPE=Release \
          -DCMAKE_C_FLAGS="--coverage"

    - name: Compiler
      run: cmake --build build -j$(nproc)

    - name: Lancer les tests
      run: |
        cd build
        ctest --output-on-failure

    - name: G√©n√©rer la couverture
      run: |
        cd build
        lcov --capture --directory . --output-file coverage.info
        genhtml coverage.info --output-directory coverage_html

    - name: G√©n√©rer la documentation
      run: |
        doxygen Doxyfile

    - name: Analyser avec Valgrind
      run: |
        valgrind --leak-check=full \
                 --log-file=valgrind-report.txt \
                 ./build/mon_app

    # ARTIFACTS

    - name: Uploader le binaire
      uses: actions/upload-artifact@v4
      with:
        name: binary-${{ github.sha }}
        path: build/mon_app
        retention-days: 30

    - name: Uploader les rapports de tests
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: test-reports
        path: build/Testing/Temporary/
        retention-days: 14

    - name: Uploader la couverture
      uses: actions/upload-artifact@v4
      with:
        name: coverage-report
        path: build/coverage_html/
        retention-days: 30

    - name: Uploader la documentation
      uses: actions/upload-artifact@v4
      with:
        name: documentation
        path: docs/html/
        retention-days: 90

    - name: Uploader le rapport Valgrind
      uses: actions/upload-artifact@v4
      with:
        name: valgrind-report
        path: valgrind-report.txt
        retention-days: 14

    - name: Uploader les logs (si √©chec)
      if: failure()
      uses: actions/upload-artifact@v4
      with:
        name: debug-logs-${{ github.run_number }}
        path: |
          build/**/*.log
          core.*
        retention-days: 7
```

---

## Merge d'artifacts

Pour combiner plusieurs artifacts en un seul :

```yaml
jobs:
  build-linux:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Linux build" > linux.txt
      - uses: actions/upload-artifact@v4
        with:
          name: builds
          path: linux.txt

  build-windows:
    runs-on: windows-latest
    steps:
      - run: echo "Windows build" > windows.txt
      - uses: actions/upload-artifact@v4
        with:
          name: builds  # M√™me nom = merge automatique
          path: windows.txt

  download-all:
    needs: [build-linux, build-windows]
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v4
        with:
          name: builds

      - run: ls -la  # linux.txt et windows.txt pr√©sents
```

**Note :** Depuis `v4`, les artifacts avec le m√™me nom sont automatiquement merg√©s.

---

## Artifacts et releases

Pour publier des artifacts lors d'une release GitHub :

```yaml
name: Release Build

on:
  release:
    types: [ published ]

jobs:
  build-and-release:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Compiler
      run: |
        cmake -B build -DCMAKE_BUILD_TYPE=Release
        cmake --build build

    - name: Cr√©er l'archive
      run: |
        cd build
        tar -czf mon-app-linux-x64.tar.gz mon_app

    - name: Uploader comme artifact
      uses: actions/upload-artifact@v4
      with:
        name: release-${{ github.event.release.tag_name }}
        path: build/mon-app-linux-x64.tar.gz

    - name: Attacher √† la release GitHub
      uses: softprops/action-gh-release@v1
      with:
        files: build/mon-app-linux-x64.tar.gz
```

**R√©sultat :** L'artifact est disponible :
1. Dans le workflow run (temporaire)
2. Dans la release GitHub (permanent)

---

## Artifacts priv√©s vs publics

### Par d√©faut : Priv√©s

Les artifacts sont **priv√©s** par d√©faut :
- Accessibles uniquement aux collaborateurs du d√©p√¥t
- N√©cessite une authentification GitHub

### Partage public

Pour partager publiquement, vous devez :

1. **Attacher √† une release** (recommand√©)
   ```yaml
   - uses: softprops/action-gh-release@v1
     with:
       files: build/app
   ```

2. **Upload vers un service externe**
   ```yaml
   - name: Upload vers S3
     run: aws s3 cp build/app s3://mon-bucket/
   ```

3. **Utiliser GitHub Pages** (pour HTML)
   ```yaml
   - uses: peaceiris/actions-gh-pages@v3
     with:
       github_token: ${{ secrets.GITHUB_TOKEN }}
       publish_dir: ./docs/html
   ```

---

## Gestion de l'espace de stockage

### Consulter l'utilisation

Dans GitHub : `Settings ‚Üí Billing ‚Üí Storage for Actions and Packages`

### Supprimer manuellement des artifacts

Via l'interface GitHub :
1. Actions ‚Üí Workflow run ‚Üí Artifacts
2. Cliquez sur l'ic√¥ne poubelle

Via l'API GitHub :
```bash
gh api repos/{owner}/{repo}/actions/artifacts/{artifact_id} -X DELETE
```

### Script de nettoyage automatique

```yaml
name: Nettoyer les vieux artifacts

on:
  schedule:
    - cron: '0 0 * * 0'  # Tous les dimanches

jobs:
  cleanup:
    runs-on: ubuntu-latest
    steps:
    - name: Supprimer les artifacts > 30 jours
      uses: actions/github-script@v7
      with:
        script: |
          const cutoff = new Date();
          cutoff.setDate(cutoff.getDate() - 30);

          const artifacts = await github.rest.actions.listArtifactsForRepo({
            owner: context.repo.owner,
            repo: context.repo.repo,
            per_page: 100
          });

          for (const artifact of artifacts.data.artifacts) {
            const createdAt = new Date(artifact.created_at);
            if (createdAt < cutoff) {
              console.log(`Suppression de ${artifact.name} (${artifact.created_at})`);
              await github.rest.actions.deleteArtifact({
                owner: context.repo.owner,
                repo: context.repo.repo,
                artifact_id: artifact.id
              });
            }
          }
```

---

## Artifacts vs Cache

### Diff√©rences

| Caract√©ristique | Artifacts | Cache |
|-----------------|-----------|-------|
| **Usage** | R√©sultats de build | D√©pendances/builds interm√©diaires |
| **Dur√©e** | 1-90 jours | 7 jours max |
| **T√©l√©chargeable** | ‚úÖ Oui (via UI) | ‚ùå Non (CI seulement) |
| **Entre workflows** | ‚úÖ Oui | ‚ùå Non (m√™me workflow seulement) |
| **Taille limite** | Illimit√©e (quotas stockage) | 10 GB par d√©p√¥t |
| **Exemple** | Binaire compil√© | node_modules, build/ |

### Quand utiliser quoi ?

**Utilisez artifacts pour :**
- Binaires finaux
- Rapports √† consulter
- Documentation g√©n√©r√©e
- Fichiers √† t√©l√©charger

**Utilisez cache pour :**
- D√©pendances (npm, pip, etc.)
- Objets de compilation interm√©diaires
- Acc√©l√©rer les builds

---

## Bonnes pratiques

### 1. Noms descriptifs et uniques

```yaml
# ‚ùå Mauvais
name: build

# ‚úÖ Bon
name: app-linux-x64-${{ github.sha }}
```

### 2. R√©tention appropri√©e

```yaml
# Binaires de release
retention-days: 90

# Logs de debug
retention-days: 7

# Rapports temporaires
retention-days: 1
```

### 3. Upload conditionnel

```yaml
# Seulement sur main
if: github.ref == 'refs/heads/main'

# Seulement si succ√®s
if: success()

# Seulement pour les releases
if: github.event_name == 'release'
```

### 4. Structure organis√©e

```yaml
path: |
  build/bin/        # Binaires
  build/lib/        # Biblioth√®ques
  build/include/    # Headers
```

### 5. Exclusions intelligentes

```yaml
path: |
  build/
  !build/**/*.o      # Pas les fichiers objets
  !build/CMakeFiles/ # Pas les fichiers CMake
```

### 6. M√©tadonn√©es dans le nom

```yaml
name: build-${{ matrix.os }}-${{ github.run_number }}
```

### 7. Toujours uploader les rapports

```yaml
- name: Tests reports
  if: always()  # M√™me si les tests √©chouent
  uses: actions/upload-artifact@v4
```

---

## Erreurs courantes et solutions

### Erreur : "No files were found"

**Cause :** Le chemin sp√©cifi√© ne contient aucun fichier.

**Solutions :**
1. V√©rifier que le fichier existe :
   ```yaml
   - name: Debug
     run: ls -la build/
   ```

2. V√©rifier le working directory
3. Utiliser des chemins absolus si n√©cessaire

### Erreur : Artifact trop volumineux

**Cause :** L'artifact d√©passe les quotas de stockage.

**Solutions :**
1. Exclure les fichiers inutiles
2. Compresser avant upload
3. Publier seulement ce qui est n√©cessaire

### Artifact non t√©l√©chargeable

**Cause :** Workflow run en cours ou artifact expir√©.

**Solutions :**
1. Attendre la fin du workflow
2. V√©rifier la dur√©e de r√©tention
3. R√©g√©n√©rer si expir√©

### Conflit de noms d'artifacts

**Cause :** Plusieurs jobs uploadent avec le m√™me nom.

**Solution :** Utiliser des noms uniques
```yaml
name: ${{ matrix.os }}-${{ github.run_number }}
```

---

## Visualisation et acc√®s

### Via l'interface web

```
GitHub ‚Üí Actions ‚Üí Workflow run ‚Üí Artifacts (section en bas)
```

Chaque artifact a :
- Un nom
- Une taille
- Une date d'expiration

### Via gh CLI

```bash
# Lister les artifacts
gh run list --workflow=build.yml

# T√©l√©charger un artifact
gh run download <run-id> -n artifact-name

# T√©l√©charger tous les artifacts
gh run download <run-id>
```

### Via l'API REST

```bash
# Lister
curl -H "Authorization: token $TOKEN" \
  https://api.github.com/repos/owner/repo/actions/artifacts

# T√©l√©charger
curl -L -H "Authorization: token $TOKEN" \
  https://api.github.com/repos/owner/repo/actions/artifacts/{id}/zip \
  -o artifact.zip
```

---

## Template de workflow complet

Voici un workflow production-ready avec artifacts :

```yaml
name: Build et Publication d'Artifacts

on:
  push:
    branches: [ main, develop ]
    tags: [ 'v*' ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    name: Build - ${{ matrix.os }}
    runs-on: ${{ matrix.os }}

    strategy:
      fail-fast: false
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
        include:
          - os: ubuntu-latest
            platform: linux
            ext: ''
          - os: macos-latest
            platform: macos
            ext: ''
          - os: windows-latest
            platform: windows
            ext: '.exe'

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Configurer
      run: cmake -B build -DCMAKE_BUILD_TYPE=Release

    - name: Compiler
      run: cmake --build build --config Release

    - name: Cr√©er le package
      run: |
        mkdir -p package
        cp build/mon_app${{ matrix.ext }} package/
        cp README.md LICENSE package/

    - name: Archive le package
      shell: bash
      run: |
        cd package
        if [ "${{ runner.os }}" = "Windows" ]; then
          7z a ../mon-app-${{ matrix.platform }}.zip *
        else
          tar -czf ../mon-app-${{ matrix.platform }}.tar.gz *
        fi

    - name: Uploader le binaire
      uses: actions/upload-artifact@v4
      with:
        name: binary-${{ matrix.platform }}
        path: package/mon_app${{ matrix.ext }}
        retention-days: 30

    - name: Uploader le package complet
      uses: actions/upload-artifact@v4
      with:
        name: package-${{ matrix.platform }}
        path: |
          mon-app-${{ matrix.platform }}.tar.gz
          mon-app-${{ matrix.platform }}.zip
        if-no-files-found: ignore
        retention-days: 90

  documentation:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4

    - name: Installer Doxygen
      run: sudo apt-get install -y doxygen graphviz

    - name: G√©n√©rer la documentation
      run: doxygen Doxyfile

    - name: Uploader la documentation
      uses: actions/upload-artifact@v4
      with:
        name: documentation
        path: docs/html/
        retention-days: 90

  release:
    if: startsWith(github.ref, 'refs/tags/v')
    needs: [build, documentation]
    runs-on: ubuntu-latest

    steps:
    - name: T√©l√©charger tous les artifacts
      uses: actions/download-artifact@v4

    - name: Cr√©er la release
      uses: softprops/action-gh-release@v1
      with:
        files: |
          package-linux/*.tar.gz
          package-macos/*.tar.gz
          package-windows/*.zip
        body: |
          ## Release ${{ github.ref_name }}

          T√©l√©chargez les binaires pour votre plateforme ci-dessous.
        draft: false
        prerelease: false
```

---

## R√©sum√©

**Les artifacts sauvegardent les fichiers g√©n√©r√©s par votre CI.**

**Action principale :**
```yaml
uses: actions/upload-artifact@v4
with:
  name: nom-artifact
  path: chemin/fichier
  retention-days: 30
```

**Types d'artifacts courants :**
- Binaires compil√©s
- Rapports de tests/couverture
- Documentation
- Logs de debug

**Dur√©e de r√©tention :**
- Par d√©faut : 90 jours
- Configurable : 1-90 jours (gratuit)

**Bonnes pratiques :**
- Noms descriptifs et uniques
- R√©tention appropri√©e
- Upload conditionnel (`if: success()`, `if: failure()`)
- Organisation claire

---

## Prochaines √©tapes

Maintenant que vous publiez des artifacts, vous pouvez :

- Cr√©er des **releases automatiques** avec GitHub Releases
- Publier sur des **registres de packages** (npm, PyPI, etc.)
- Configurer des **d√©ploiements continus**
- Mettre en place des **notifications** de build

Ces sujets sont couverts dans les sections suivantes.

---

## Ressources compl√©mentaires

- [Documentation upload-artifact](https://github.com/actions/upload-artifact)
- [Documentation download-artifact](https://github.com/actions/download-artifact)
- [GitHub Actions Artifacts API](https://docs.github.com/en/rest/actions/artifacts)
- [Gestion du stockage GitHub](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions)

---

**üéØ Points cl√©s √† retenir :**

- ‚úÖ Les artifacts sauvegardent les fichiers g√©n√©r√©s par la CI
- ‚úÖ Accessible via l'interface GitHub Actions
- ‚úÖ `actions/upload-artifact@v4` pour publier
- ‚úÖ `actions/download-artifact@v4` pour r√©utiliser
- ‚úÖ Dur√©e de r√©tention configurable (1-90 jours)
- ‚úÖ Noms descriptifs avec m√©tadonn√©es (${{ matrix.os }}, ${{ github.sha }})
- ‚úÖ Upload conditionnel selon le r√©sultat (if: success(), if: failure())
- ‚úÖ Diff√©rence artifacts (r√©sultats) vs cache (acc√©l√©ration)

‚è≠Ô∏è [GitLab CI pour projets C](/30-integration-continue/02-gitlab-ci.md)
